{"version":3,"sources":["Components/Login/Style.module.css","Components/Modal/Style.module.css","Components/Orders/style.module.css","Components/Orders/CurrentOrdersTable/Style.module.css","Components/Loading/Style.module.css","Service/api.js","Components/Login/Login.jsx","Components/Modal/Images/Location-512.png","Components/RoutePointsTable/PointDataTable/PointDataTable.jsx","Components/RoutePointsTable/DestinationPointTable.jsx","Components/RoutePointsTable/StartPointTable.jsx","Components/Modal/OrderModal.jsx","Components/Orders/CurrentOrdersTable/CurrentOrdersTable.jsx","Components/Orders/Orders.jsx","Components/Logout/Logout.jsx","Components/Loading/Images/loading.gif","Components/Loading/Loading.jsx","App.js","index.js","Components/RoutePointsTable/Style.module.css"],"names":["module","exports","api","formData","axios","post","username","password","response","token","sessionStorage","get","headers","Authorization","source","destination","lon","lat","Login","setIsAuth","setError","setIsLoading","useState","setFormData","handleChange","event","target","name","value","handleSubmit","a","preventDefault","status","toString","prevError","isError","errorMessage","data","detail","access_token","className","style","loginComponent","placeholder","onChange","e","type","authInput","onClick","PointDataTable","pointData","ADDRESS_TYPES","building","house_number","road","suburb","city_district","city","state","postcode","country","country_code","amenity","town","county","neighbourhood","hamlet","village","municipality","Object","entries","address","addrType","addrValue","push","key","uuidv4","addressType","addressValue","toUpperCase","columns","title","dataIndex","pagination","dataSource","DestinationPointTable","pointTable","StartPointTable","OrderModal","isModalVisible","handleOk","handleCancel","routeData","startPointData","finalPointData","orderData","metadata","query","coordinates","startLon","startLat","endLon","endLat","useEffect","myMap","L","map","tileLayer","foo","attribution","addTo","center","LatLng","setView","endPinIcon","icon","iconUrl","endPinSrc","iconSize","iconAnchor","marker","display_name","featureLayer","geoJson","addLayer","bodyStyle","height","overflowX","order_number","subject","moment","time","format","visible","onOk","onCancel","modalContainer","mapBlock","id","routeTableData","CurrentOrdersTable","orders","showModal","orderItem","orderNr","clientsName","destinationTime","routeDetails","render","order","mainOrdersTable","Orders","isAuth","setOrders","orderForModal","setOrderForModal","route","setRoute","setStartPointData","setFinalPointData","setIsModalVisible","fetchOrders","_","isEqual","prevState","handleRoute","responseRoute","responseStartPointData","responseFinalPointData","Style","ordersPageTitle","length","Logout","clear","Loading","loadingComponent","src","imgSrc","alt","App","error","isLoading","ReactDOM","document","getElementById"],"mappings":"iGACAA,EAAOC,QAAU,CAAC,eAAiB,8BAA8B,UAAY,2B,oBCA7ED,EAAOC,QAAU,CAAC,SAAW,wBAAwB,eAAiB,8BAA8B,eAAiB,gC,oBCArHD,EAAOC,QAAU,CAAC,gBAAkB,iC,oBCApCD,EAAOC,QAAU,CAAC,gBAAkB,iC,oBCApCD,EAAOC,QAAU,CAAC,iBAAmB,kC,oMCCxBC,EAAM,SACHC,GAAW,OAAD,mIAESC,IAAMC,KACzB,iEADmB,uCAEaF,EAASG,SAFtB,qBAE2CH,EAASI,WAJ7D,cAERC,EAFQ,yBAMPA,GANO,yDAQP,KAAEA,UARK,4DADbN,EAAM,WAaI,OAAD,mHACRO,EAAQC,eAAc,YADd,kBAGaN,IAAMO,IAAI,0DAA2D,CACxFC,QAAS,CAAEC,cAAc,UAAD,OAAYJ,MAJ9B,cAGJD,EAHI,yBAMHA,GANG,yDAQH,KAAEA,UARC,4DAbTN,EAAM,SAyBAY,EAAQC,GAAc,OAAD,mIAELX,IAAMO,IAAN,4IACkHG,EAAOE,IADzH,YACgIF,EAAOG,IADvI,gBACkJF,EAAYC,IAD9J,YACqKD,EAAYE,MAH5K,cAEtBT,EAFsB,yBAKrBA,GALqB,yDAOrB,KAAEA,UAPmB,4DAzB3BN,EAAM,YAoCoB,OAAD,qHAAZc,EAAY,EAAZA,IAAKC,EAAO,EAAPA,IAAO,kBAEHb,IAAMO,IAAN,wEAC8CM,EAD9C,gBACyDD,EADzD,wBAFG,cAEpBR,EAFoB,yBAKnBA,GALmB,yDAOnB,KAAEA,UAPiB,4D,0CC4BvBU,EA7DD,SAAC,GAA2C,IAAzCC,EAAwC,EAAxCA,UAAWC,EAA6B,EAA7BA,SAAUC,EAAmB,EAAnBA,aAClC,EAAgCC,mBAAS,CAAEhB,SAAU,GAAIC,SAAU,KAAnE,mBAAOJ,EAAP,KAAiBoB,EAAjB,KAEMC,EAAe,SAACC,GAClBF,EAAY,2BAAKpB,GAAN,kBAAiBsB,EAAMC,OAAOC,KAAOF,EAAMC,OAAOE,UAG3DC,EAAY,uCAAG,WAAOJ,GAAP,eAAAK,EAAA,6DACjBL,EAAMM,iBACNV,GAAa,GAFI,SAGMnB,EAAUC,GAHhB,OAGXK,EAHW,OAIjBa,GAAa,GACyB,MAAlCb,EAASwB,OAAOC,WAAW,GAC3Bb,GAAS,SAACc,GAAD,mBAAC,eAAoBA,GAArB,IAAgCC,SAAS,EAAMC,aAAc5B,EAAS6B,KAAKC,YACzD,MAApB9B,EAASwB,SAChBZ,GAAS,SAACc,GAAD,mBAAC,eAAoBA,GAArB,IAAgCC,SAAS,EAAOC,aAAc,QACvE1B,eAAc,YAAkBF,EAAS6B,KAAKE,aAC9CpB,GAAU,IAVG,2CAAH,sDAclB,OACI,sBAAKqB,UAAWC,IAAMC,eAAtB,UACI,8CACA,8BACI,iCACI,kCACK,IADL,SAGI,8BACI,cAAC,IAAD,CACIC,YAAY,QACZC,SAAU,SAACC,GAAD,OAAOrB,EAAaqB,IAC9BlB,KAAM,WACNmB,KAAK,OACLN,UAAWC,IAAMM,iBAI7B,kCACK,IADL,YAGI,8BACI,cAAC,IAAD,CACIJ,YAAY,WACZC,SAAU,SAACC,GAAD,OAAOrB,EAAaqB,IAC9BlB,KAAM,WACNmB,KAAK,WACLN,UAAWC,IAAMM,iBAI7B,cAAC,IAAD,CAAQC,QAAS,SAACH,GAAD,OAAOhB,EAAagB,IAAIC,KAAK,UAA9C,6B,6CCzDL,MAA0B,yC,oDCK5BG,EAAiB,SAAC,GAuB3B,IAvB8C,IAAjBC,EAAgB,EAAhBA,UACvBC,EAAgB,CAClBC,SAAU,cACVC,aAAc,aACdC,KAAM,QACNC,OAAQ,UACRC,cAAe,mBACfC,KAAM,SACNC,MAAO,iBACPC,SAAU,eACVC,QAAS,OACTC,aAAc,YACdC,QAAS,qBACTC,KAAM,aACNC,OAAQ,SACRC,cAAe,UACfC,OAAQ,mBACRC,QAAS,YACTC,aAAc,SAGZ/B,EAAO,GAEb,MAAkCgC,OAAOC,QAAQpB,EAAUqB,SAA3D,eAAqE,CAAhE,0BAAKC,EAAL,KAAeC,EAAf,KACDpC,EAAKqC,KAAK,CACNC,IAAKC,cACLC,YAAa1B,EAAcqB,IAAaA,EACxCM,aAAcL,EAAUM,gBAIhC,IAAMC,EAAU,CACZ,CACIC,MAAO,eACPC,UAAW,cACXP,IAAK,cACLnC,UAAWC,IAAMoC,aAErB,CACII,MAAO,QACPC,UAAW,eACXP,IAAK,iBAIb,OAAO,cAAC,IAAD,CAAOQ,YAAY,EAAOH,QAASA,EAASI,WAAY/C,KC9CtDgD,EAAwB,SAAC,GAAmB,IAAjBnC,EAAgB,EAAhBA,UACpC,OACI,sBAAKV,UAAWC,IAAM6C,WAAtB,UACI,oDACA,cAAC,EAAD,CAAgBpC,UAAWA,Q,kBCJ1BqC,EAAkB,SAAC,GAAmB,IAAjBrC,EAAgB,EAAhBA,UAC9B,OACI,sBAAKV,UAAWC,IAAM6C,WAAtB,UACI,8CACA,cAAC,EAAD,CAAgBpC,UAAWA,QCC1BsC,EAAa,SAAC,GAQpB,IAPHC,EAOE,EAPFA,eACAC,EAME,EANFA,SACAC,EAKE,EALFA,aACAC,EAIE,EAJFA,UACAC,EAGE,EAHFA,eACAC,EAEE,EAFFA,eACAC,EACE,EADFA,UAEA,cAAiDH,EAAUI,SAASC,MAAMC,YAA1E,yBAAQC,EAAR,KAAkBC,EAAlB,2BAA8BC,EAA9B,KAAsCC,EAAtC,KAgCA,OA9BAC,qBAAU,WAEN,IAAMC,EAAQC,IAAEC,IAAI,OACpBD,IAAEE,UAAU,2DAA4D,CACpEC,IAAK,MACLC,YACI,4FACLC,MAAMN,GAET,IAAMO,EAAS,IAAIN,IAAEO,OAAOZ,EAAUD,GACtCK,EAAMS,QAAQF,EAAQ,KAEtB,IAAMG,EAAaT,IAAEU,KAAK,CACtBC,QAASC,EACTC,SAAU,CAAC,GAAI,IACfC,WAAY,CAAC,GAAI,MAGrBd,IAAEe,OAAO,CAACpB,EAAUD,GAAW,CAAElB,MAAM,gBAAD,OAAkBY,EAAe4B,gBAAkBX,MAAMN,GAC/FC,IAAEe,OAAO,CAAClB,EAAQD,GAAS,CACvBc,KAAMD,EACNjC,MAAM,sBAAD,OAAwBa,EAAe2B,gBAC7CX,MAAMN,GAET,IAAMkB,EAAejB,IAAEkB,QAAQ/B,EAAW,IAE1CY,EAAMoB,SAASF,KAEhB,IAGC,mCACI,eAAC,IAAD,CACIG,UAAW,CAAEC,OAAQ,OAAQC,UAAW,QACxC9C,MAAK,6DACmBc,EAAUiC,aAD7B,6CAEWjC,EAAUkC,QAFrB,wDAGuBC,IAAOnC,EAAUhF,YAAYoH,MAAMC,OAAO,qBACtEC,QAAS5C,EACT6C,KAAM5C,EACN6C,SAAU5C,EACVnD,UAAWC,IAAM+F,eATrB,UAUI,qBAAKhG,UAAWC,IAAMgG,SAAUC,GAAG,QACnC,sBAAKlG,UAAWC,IAAMkG,eAAtB,UACI,cAAC,EAAD,CAAiBzF,UAAW2C,IAC5B,cAAC,EAAD,CAAuB3C,UAAW4C,a,2BC3DzC8C,EAAqB,SAAC,GAA2B,IAAD,EAAxBC,EAAwB,EAAxBA,OAAQC,EAAgB,EAAhBA,UACnCzG,EAAO,GAD4C,cAGnCwG,GAHmC,IAGzD,2BAA8B,CAAC,IAAtBE,EAAqB,QAC1B1G,EAAKqC,KAAK,CACNC,IAAKC,cACLoE,QAASD,EAAUf,aACnBiB,YAAaF,EAAUd,QACvBiB,gBAAiBhB,IAAOa,EAAUhI,YAAYoH,MAAMC,OAAO,oBAC3De,aAAcJ,KATmC,8BAazD,IAAM/D,EAAU,CACZ,CACIC,MAAO,WACPC,UAAW,UACXP,IAAK,WAET,CACIM,MAAO,cACPC,UAAW,cACXP,IAAK,eAET,CACIM,MAAO,mBACPC,UAAW,kBACXP,IAAK,mBAET,CACIM,MAAO,gBACPC,UAAW,eACXP,IAAK,eACLyE,OAAQ,SAACC,GACL,OACI,cAAC,IAAD,CAAQvG,KAAK,UAAUE,QAAS,kBAAM8F,EAAUO,IAAhD,6BAQhB,OACI,qBAAK7G,UAAWC,IAAM6G,gBAAtB,SACI,cAAC,IAAD,CAAOtE,QAASA,EAASI,WAAY/C,O,kBCiClCkH,EA7EA,SAAC,GAAwC,IAAtCnI,EAAqC,EAArCA,SAAUC,EAA2B,EAA3BA,aACxB,GADmD,EAAbmI,OACVlI,mBAAS,KAArC,mBAAOuH,EAAP,KAAeY,EAAf,KACA,EAA0CnI,mBAAS,IAAnD,mBAAOoI,EAAP,KAAsBC,EAAtB,KACA,EAA0BrI,mBAAS,IAAnC,mBAAOsI,EAAP,KAAcC,EAAd,KACA,EAA4CvI,mBAAS,IAArD,mBAAOuE,EAAP,KAAuBiE,EAAvB,KACA,EAA4CxI,mBAAS,IAArD,mBAAOwE,EAAP,KAAuBiE,EAAvB,KACA,EAA4CzI,oBAAS,GAArD,mBAAOmE,EAAP,KAAuBuE,EAAvB,KAEAzD,qBAAU,WACN,IAAM0D,EAAW,uCAAG,4BAAAnI,EAAA,6DAChBT,GAAa,GADG,SAEOnB,IAFP,OAEVM,EAFU,OAGhBa,GAAa,GACyB,MAAlCb,EAASwB,OAAOC,WAAW,GAC3Bb,GAAS,SAACc,GAAD,mBAAC,eAAoBA,GAArB,IAAgCC,SAAS,EAAMC,aAAc5B,EAAS6B,KAAKC,YACzD,MAApB9B,EAASwB,QAChByH,EAAUjJ,EAAS6B,MAPP,2CAAH,qDAUjB4H,MAED,IAEH,IAAMnB,EAAS,uCAAG,WAAOO,GAAP,SAAAvH,EAAA,yDACToI,IAAEC,QAAQd,EAAOK,GADR,uBAEVrI,GAAa,GACbsI,GAAiB,SAACS,GAAD,mBAAC,eAAoBA,GAAcf,MAH1C,SAIJgB,EAAYhB,EAAMvI,OAAQuI,EAAMtI,aAJ5B,OAKVM,GAAa,GALH,OAQd2I,GAAkB,GARJ,2CAAH,sDAmBTK,EAAW,uCAAG,WAAOvJ,EAAQC,GAAf,mBAAAe,EAAA,sEACY5B,EAAaY,EAAQC,GADjC,cACVuJ,EADU,gBAEqBpK,EAAkBY,GAFvC,cAEVyJ,EAFU,gBAGqBrK,EAAkBa,GAHvC,OAGVyJ,EAHU,OAKhBV,GAAkB,SAACM,GAAD,mBAAC,eAAoBA,GAAcG,EAAuBlI,SAC5E0H,GAAkB,SAACK,GAAD,mBAAC,eAAoBA,GAAcI,EAAuBnI,SAC5EwH,GAAS,SAACO,GAAD,mBAAC,eAAoBA,GAAcE,EAAcjI,SAP1C,4CAAH,wDAUjB,OACI,gCACI,qBAAIG,UAAWiI,IAAMC,gBAArB,UAAuC7B,EAAO8B,OAA9C,wCACmB,IAAlB9B,EAAO8B,OACJ,GAEA,sBAAKnI,UAAU,cAAf,UACKiD,GACG,cAAC,EAAD,CACIG,UAAWgE,EACXnE,eAAgBA,EAChBC,SA7BP,WACbsE,GAAkB,IA6BErE,aA1BH,WACjBqE,GAAkB,IA0BEnE,eAAgBA,EAChBC,eAAgBA,EAChBC,UAAW2D,IAGnB,cAAC,EAAD,CAAoBb,OAAQA,EAAQC,UAAWA,WC1EtD8B,EAAS,SAAC,GAAmB,IAAjBzJ,EAAgB,EAAhBA,UAOrB,OACI,8BACI,cAAC,IAAD,CAAQ2B,KAAK,UAAUE,QARV,SAACH,GAClBA,EAAEd,iBACFrB,eAAemK,QACf1J,GAAU,IAKN,uBCZG,MAA0B,oC,kBCI5B2J,EAAU,WACnB,OACI,qBAAKtI,UAAWiI,IAAMM,iBAAtB,SACI,qBAAKC,IAAKC,EAAQC,IAAI,uBCoCnBC,OApCf,WACI,MAA4B7J,oBAAS,GAArC,mBAAOkI,EAAP,KAAerI,EAAf,KACA,EAA0BG,mBAAS,CAAEa,SAAS,EAAOC,aAAc,KAAnE,mBAAOgJ,EAAP,KAAchK,EAAd,KACA,EAAkCE,oBAAS,GAA3C,mBAAO+J,EAAP,KAAkBhK,EAAlB,KAeA,OAbAkF,qBAAU,WACF7F,eAAc,aACdS,GAAU,KAEf,IAEHoF,qBAAU,WACF6E,EAAMjJ,UACNzB,eAAemK,QACf1J,GAAU,MAEf,CAACiK,EAAMjJ,UAGN,sBAAKK,UAAU,MAAf,UACI,qBAAKA,UAAU,WACd6I,GAAa,cAAC,EAAD,IACd,iEAEC7B,GACG,qCACI,cAAC,EAAD,CAAQrI,UAAWA,IACnB,cAAC,EAAD,CAAQC,SAAUA,EAAUC,aAAcA,EAAcmI,OAASA,QAGvEA,GAAU,cAAC,EAAD,CAAOrI,UAAWA,EAAWC,SAAUA,EAAUC,aAAcA,IAC1E+J,EAAMjJ,SAAW,qBAAKK,UAAU,gBAAf,SAAgC4I,EAAMhJ,mBCjCpEkJ,IAASlC,OAAO,cAAC,GAAD,IAASmC,SAASC,eAAe,U,mBCJjDxL,EAAOC,QAAU,CAAC,WAAa,0BAA0B,YAAc,8B","file":"static/js/main.83999ed9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginComponent\":\"Style_loginComponent__2PC20\",\"authInput\":\"Style_authInput__3i-PH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mapBlock\":\"Style_mapBlock__2XZyT\",\"modalContainer\":\"Style_modalContainer__26GIM\",\"routeTableData\":\"Style_routeTableData__MokxS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ordersPageTitle\":\"style_ordersPageTitle__1oWcr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainOrdersTable\":\"Style_mainOrdersTable__2jYAv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loadingComponent\":\"Style_loadingComponent__2ulQI\"};","import axios from 'axios'\r\n\r\nexport const api = {\r\n    async login(formData) {\r\n        try {\r\n            const response = await axios.post(\r\n                'https://api.demo.cargo-speed.pl/demo/api/v1/login/access_token',\r\n                `grant_type=password&username=${formData.username}&password=${formData.password}`\r\n            )\r\n            return response\r\n        } catch (e) {\r\n            return e.response\r\n        }\r\n    },\r\n\r\n    async getOrders() {\r\n        const token = sessionStorage['accessToken']\r\n        try {\r\n            const response = await axios.get('https://api.demo.cargo-speed.pl/demo/api/v1/orders/many', {\r\n                headers: { Authorization: `Bearer ${token}` },\r\n            })\r\n            return response\r\n        } catch (e) {\r\n            return e.response\r\n        }\r\n    },\r\n\r\n    async getRoute(source, destination) {\r\n        try {\r\n            const response = await axios.get(\r\n                `https://api.openrouteservice.org/v2/directions/driving-car?api_key=5b3ce3597851110001cf6248e866aa5d7899451aa8e13709ccea605c&start=${source.lon},${source.lat}&end=${destination.lon},${destination.lat}`\r\n            )\r\n            return response\r\n        } catch (e) {\r\n            return e.response\r\n        }\r\n    },\r\n\r\n    async getRoutePoint({ lon, lat }) {\r\n        try {\r\n            const response = await axios.get(\r\n                `https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${lat}&lon=${lon}&accept-language=pl`\r\n            )\r\n            return response\r\n        } catch (e) {\r\n            return e.response\r\n        }\r\n    },\r\n}\r\n","import React, { useState } from 'react'\r\nimport { api } from '../../Service/api'\r\nimport { Button, Input } from 'antd'\r\nimport style from './Style.module.css'\r\n\r\nconst Login = ({ setIsAuth, setError, setIsLoading }) => {\r\n    const [formData, setFormData] = useState({ username: '', password: '' })\r\n\r\n    const handleChange = (event) => {\r\n        setFormData({ ...formData, [event.target.name]: event.target.value })\r\n    }\r\n\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault()\r\n        setIsLoading(true)\r\n        const response = await api.login(formData)\r\n        setIsLoading(false)\r\n        if (response.status.toString()[0] === '4') {\r\n            setError((prevError) => ({ ...prevError, isError: true, errorMessage: response.data.detail }))\r\n        } else if (response.status === 200) {\r\n            setError((prevError) => ({ ...prevError, isError: false, errorMessage: '' }))\r\n            sessionStorage['accessToken'] = response.data.access_token\r\n            setIsAuth(true)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={style.loginComponent}>\r\n            <h2>Please Login</h2>\r\n            <div>\r\n                <form>\r\n                    <label>\r\n                        {' '}\r\n                        Login:\r\n                        <div>\r\n                            <Input\r\n                                placeholder='Login'\r\n                                onChange={(e) => handleChange(e)}\r\n                                name={'username'}\r\n                                type='text'\r\n                                className={style.authInput}\r\n                            />\r\n                        </div>\r\n                    </label>\r\n                    <label>\r\n                        {' '}\r\n                        Password:\r\n                        <div>\r\n                            <Input\r\n                                placeholder='Password'\r\n                                onChange={(e) => handleChange(e)}\r\n                                name={'password'}\r\n                                type='password'\r\n                                className={style.authInput}\r\n                            />\r\n                        </div>\r\n                    </label>\r\n                    <Button onClick={(e) => handleSubmit(e)} type='primary'>\r\n                        Log in\r\n                    </Button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","export default __webpack_public_path__ + \"static/media/Location-512.246403e4.png\";","import React from 'react'\r\nimport { Table } from 'antd'\r\nimport style from '../Style.module.css'\r\nimport { v4 as uuidv4 } from 'uuid'\r\n\r\nexport const PointDataTable = ({ pointData }) => {\r\n    const ADDRESS_TYPES = {\r\n        building: 'Zakład',\r\n        house_number: 'Nr budynku',\r\n        road: 'Ulica',\r\n        suburb: 'Okolica',\r\n        city_district: 'Dzielnica miasta',\r\n        city: 'Miasto',\r\n        state: 'Województwo',\r\n        postcode: 'Kod pocztowy',\r\n        country: 'Kraj',\r\n        country_code: 'Kod kraju',\r\n        amenity: 'Punkt orientacyjny',\r\n        town: 'Miasteczko',\r\n        county: 'Powiat',\r\n        neighbourhood: 'Osiedle',\r\n        hamlet: 'Mała wioska',\r\n        village: 'Wieś',\r\n        municipality: 'Gmina',\r\n    }\r\n\r\n    const data = []\r\n\r\n    for (let [addrType, addrValue] of Object.entries(pointData.address)) {\r\n        data.push({\r\n            key: uuidv4(),\r\n            addressType: ADDRESS_TYPES[addrType] || addrType,\r\n            addressValue: addrValue.toUpperCase(),\r\n        })\r\n    }\r\n\r\n    const columns = [\r\n        {\r\n            title: 'Address type',\r\n            dataIndex: 'addressType',\r\n            key: 'addressType',\r\n            className: style.addressType,\r\n        },\r\n        {\r\n            title: 'Value',\r\n            dataIndex: 'addressValue',\r\n            key: 'addressValue',\r\n        },\r\n    ]\r\n\r\n    return <Table pagination={false} columns={columns} dataSource={data} />\r\n}\r\n","import React from 'react'\r\nimport { PointDataTable } from './PointDataTable/PointDataTable'\r\nimport style from './Style.module.css'\r\n\r\nexport const DestinationPointTable = ({ pointData }) => {\r\n    return (\r\n        <div className={style.pointTable}>\r\n            <h3>Final destination:</h3>\r\n            <PointDataTable pointData={pointData} />\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { PointDataTable } from './PointDataTable/PointDataTable'\r\nimport style from './Style.module.css'\r\n\r\nexport const StartPointTable = ({ pointData }) => {\r\n    return (\r\n        <div className={style.pointTable}>\r\n            <h3>Start point:</h3>\r\n            <PointDataTable pointData={pointData} />\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { Modal } from 'antd'\r\nimport style from './Style.module.css'\r\nimport endPinSrc from './Images/Location-512.png'\r\nimport L from 'leaflet'\r\nimport { DestinationPointTable } from '../RoutePointsTable/DestinationPointTable'\r\nimport moment from 'moment'\r\nimport { StartPointTable } from '../RoutePointsTable/StartPointTable'\r\n\r\nexport const OrderModal = ({\r\n    isModalVisible,\r\n    handleOk,\r\n    handleCancel,\r\n    routeData,\r\n    startPointData,\r\n    finalPointData,\r\n    orderData,\r\n}) => {\r\n    const [[startLon, startLat], [endLon, endLat]] = routeData.metadata.query.coordinates\r\n\r\n    useEffect(() => {\r\n\r\n        const myMap = L.map('map')\r\n        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png?{foo}', {\r\n            foo: 'bar',\r\n            attribution:\r\n                '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',\r\n        }).addTo(myMap)\r\n\r\n        const center = new L.LatLng(startLat, startLon)\r\n        myMap.setView(center, 7.5)\r\n\r\n        const endPinIcon = L.icon({\r\n            iconUrl: endPinSrc,\r\n            iconSize: [25, 40],\r\n            iconAnchor: [12, 40],\r\n        })\r\n\r\n        L.marker([startLat, startLon], { title: `Start point: ${startPointData.display_name}` }).addTo(myMap)\r\n        L.marker([endLat, endLon], {\r\n            icon: endPinIcon,\r\n            title: `Final destination: ${finalPointData.display_name}`,\r\n        }).addTo(myMap)\r\n\r\n        const featureLayer = L.geoJson(routeData, {})\r\n\r\n        myMap.addLayer(featureLayer)\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                bodyStyle={{ height: '80vh', overflowX: 'auto' }}\r\n                title={`Route map. \r\n                        Order number: ${orderData.order_number}, \r\n                        Name: ${orderData.subject},\r\n                        Destination time: ${moment(orderData.destination.time).format('HH:mm DD.MM.YYYY')}`}\r\n                visible={isModalVisible}\r\n                onOk={handleOk}\r\n                onCancel={handleCancel}\r\n                className={style.modalContainer}>\r\n                <div className={style.mapBlock} id='map'></div>\r\n                <div className={style.routeTableData}>\r\n                    <StartPointTable pointData={startPointData} />\r\n                    <DestinationPointTable pointData={finalPointData} />\r\n                </div>\r\n            </Modal>\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Button, Table } from 'antd'\r\nimport { v4 as uuidv4 } from 'uuid'\r\nimport moment from 'moment'\r\nimport style from './Style.module.css'\r\n\r\nexport const CurrentOrdersTable = ({ orders, showModal }) => {\r\n    const data = []\r\n\r\n    for (let orderItem of orders) {\r\n        data.push({\r\n            key: uuidv4(),\r\n            orderNr: orderItem.order_number,\r\n            clientsName: orderItem.subject,\r\n            destinationTime: moment(orderItem.destination.time).format('HH:mm DD.MM.YYYY'),\r\n            routeDetails: orderItem,\r\n        })\r\n    }\r\n\r\n    const columns = [\r\n        {\r\n            title: 'Order nr',\r\n            dataIndex: 'orderNr',\r\n            key: 'orderNr',\r\n        },\r\n        {\r\n            title: 'Client name',\r\n            dataIndex: 'clientsName',\r\n            key: 'clientsName',\r\n        },\r\n        {\r\n            title: 'Destination time',\r\n            dataIndex: 'destinationTime',\r\n            key: 'destinationTime',\r\n        },\r\n        {\r\n            title: 'Route details',\r\n            dataIndex: 'routeDetails',\r\n            key: 'routeDetails',\r\n            render: (order) => {\r\n                return (\r\n                    <Button type='default' onClick={() => showModal(order)}>\r\n                        Show details\r\n                    </Button>\r\n                )\r\n            },\r\n        },\r\n    ]\r\n\r\n    return (\r\n        <div className={style.mainOrdersTable}>\r\n            <Table columns={columns} dataSource={data} />\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { api } from '../../Service/api'\r\nimport Style from './style.module.css'\r\nimport { OrderModal } from '../Modal/OrderModal'\r\nimport { CurrentOrdersTable } from './CurrentOrdersTable/CurrentOrdersTable'\r\nimport _ from 'lodash'\r\n\r\nconst Orders = ({ setError, setIsLoading, isAuth }) => {\r\n    const [orders, setOrders] = useState([])\r\n    const [orderForModal, setOrderForModal] = useState({})\r\n    const [route, setRoute] = useState({})\r\n    const [startPointData, setStartPointData] = useState({})\r\n    const [finalPointData, setFinalPointData] = useState({})\r\n    const [isModalVisible, setIsModalVisible] = useState(false)\r\n\r\n    useEffect(() => {\r\n        const fetchOrders = async () => {\r\n            setIsLoading(true)\r\n            const response = await api.getOrders()\r\n            setIsLoading(false)\r\n            if (response.status.toString()[0] === '4') {\r\n                setError((prevError) => ({ ...prevError, isError: true, errorMessage: response.data.detail }))\r\n            } else if (response.status === 200) {\r\n                setOrders(response.data)\r\n            }\r\n        }\r\n        fetchOrders()\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n\r\n    const showModal = async (order) => {\r\n        if (!_.isEqual(order, orderForModal)) {\r\n            setIsLoading(true)\r\n            setOrderForModal((prevState) => ({ ...prevState, ...order }))\r\n            await handleRoute(order.source, order.destination)\r\n            setIsLoading(false)\r\n        }\r\n\r\n        setIsModalVisible(true)\r\n    }\r\n\r\n    const handleOk = () => {\r\n        setIsModalVisible(false)\r\n    }\r\n\r\n    const handleCancel = () => {\r\n        setIsModalVisible(false)\r\n    }\r\n\r\n    const handleRoute = async (source, destination) => {\r\n        const responseRoute = await api.getRoute(source, destination)\r\n        const responseStartPointData = await api.getRoutePoint(source)\r\n        const responseFinalPointData = await api.getRoutePoint(destination)\r\n\r\n        setStartPointData((prevState) => ({ ...prevState, ...responseStartPointData.data }))\r\n        setFinalPointData((prevState) => ({ ...prevState, ...responseFinalPointData.data }))\r\n        setRoute((prevState) => ({ ...prevState, ...responseRoute.data }))\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h2 className={Style.ordersPageTitle}>{orders.length} - available orders at the moment:</h2>\r\n            {orders.length === 0 ? (\r\n                ''\r\n            ) : (\r\n                <div className='orders-list'>\r\n                    {isModalVisible && (\r\n                        <OrderModal\r\n                            routeData={route}\r\n                            isModalVisible={isModalVisible}\r\n                            handleOk={handleOk}\r\n                            handleCancel={handleCancel}\r\n                            startPointData={startPointData}\r\n                            finalPointData={finalPointData}\r\n                            orderData={orderForModal}\r\n                        />\r\n                    )}\r\n                    <CurrentOrdersTable orders={orders} showModal={showModal} />\r\n                </div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Orders\r\n","import { Button } from 'antd'\r\nimport React from 'react'\r\n\r\nexport const Logout = ({ setIsAuth }) => {\r\n    const handleLogout = (e) => {\r\n        e.preventDefault()\r\n        sessionStorage.clear()\r\n        setIsAuth(false)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Button type='primary' onClick={handleLogout}>\r\n                Logout\r\n            </Button>\r\n        </div>\r\n    )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/loading.9ca08101.gif\";","import React from 'react'\r\nimport imgSrc from './Images/loading.gif'\r\nimport Style from './Style.module.css'\r\n\r\nexport const Loading = () => {\r\n    return (\r\n        <div className={Style.loadingComponent}>\r\n            <img src={imgSrc} alt='Loading spinner' />\r\n        </div>\r\n    )\r\n}\r\n","import './App.css'\r\nimport Login from './Components/Login/Login'\r\nimport Orders from './Components/Orders/Orders'\r\nimport { useEffect, useState } from 'react'\r\nimport { Logout } from './Components/Logout/Logout'\r\nimport { Loading } from './Components/Loading/Loading'\r\n\r\nfunction App() {\r\n    const [isAuth, setIsAuth] = useState(false)\r\n    const [error, setError] = useState({ isError: false, errorMessage: '' })\r\n    const [isLoading, setIsLoading] = useState(false)\r\n\r\n    useEffect(() => {\r\n        if (sessionStorage['accessToken']) {\r\n            setIsAuth(true)\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (error.isError) {\r\n            sessionStorage.clear()\r\n            setIsAuth(false)\r\n        }\r\n    }, [error.isError])\r\n\r\n    return (\r\n        <div className='App'>\r\n            <div className='App-bg'></div>\r\n            {isLoading && <Loading />}\r\n            <h1>Welcome to the order route app!</h1>\r\n\r\n            {isAuth && (\r\n                <>\r\n                    <Logout setIsAuth={setIsAuth} />\r\n                    <Orders setError={setError} setIsLoading={setIsLoading} isAuth ={isAuth}/>\r\n                </>\r\n            )}\r\n            {!isAuth && <Login setIsAuth={setIsAuth} setError={setError} setIsLoading={setIsLoading} />}\r\n            {error.isError && <div className='error-message'>{error.errorMessage}</div>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport App from './App'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pointTable\":\"Style_pointTable__3fP1X\",\"addressType\":\"Style_addressType__1m2Y3\"};"],"sourceRoot":""}